---
title: "Build R Package"
author: "Your Name"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_knit$set(root.dir = rprojroot::find_rstudio_root_file()) 
knitr::opts_chunk$set(eval = FALSE)
here::i_am("dev/build.Rmd")
library(here)
```

# How To

Essential Manual and Package:

-  [R Package Book](https://r-pkgs.org)
-  [usethis](https://usethis.r-lib.org)

I recommend initial setup by running code that is not commented at the first visit.

# Git

```{r use_git}
usethis::use_git()
```

# Ignore

## Git Ignore

Tell Git not to track theses:

```{r use_git_ignore}
usethis::use_git_ignore("/dev/") # (Optional) ignore `dev` folder at pkg root
# usethis::use_git_ignore("file") 
```

## Build Ignore

Tell R not to build theses into R package:

```{r use_build_ignore}
usethis::use_build_ignore("dev") # (Require)
# usethis::use_build_ignore("file")
```

# Metadata

## DESCRIPTION

```{r use_description}
usethis::use_description()
```

## LICENSE

Use licence file by `use_*_license()` family of funs

```{r license}
usethis::use_mit_license() # MIT
```

# User Doc

## README

```{r readme}
# usethis::use_readme_rmd()
```

Lifecycle badges

```{r lifecycle_badge}
# usethis::use_lifecycle_badge("experimental")
```

## Vignette

```{r vignette}
# usethis::use_vignette("pkg")
```

## NEWS

```{r news}
# usethis::use_news_md()
```


# Dependencies

## Imports

A recommended approach

```{r imports}
# usethis::use_pipe() # If package use `%>%`
# usethis::use_tibble() # If package use `tbl_df` class

# usethis::use_package("pkg") 
```

```{r imports_dev}
# Developmental Package (not on CRAN)
# usethis::use_dev_package("pkg", remote = "OWNER/REPO")
```

## Import from

Importing a function from another package allows you to refer to it without a namespace (e.g., `fun()` instead of `package::fun()`).

```{r import_from}
# usethis::use_import_from("rlang", ":=") # Must have if use `:=`
```

## Suggests

Use suggested packages for example datasets, to run tests, build vignettes, or maybe thereâ€™s only one function that needs the package.

```{r suggests}
# usethis::use_package("pkg", type = "Suggests")
```








# Global Var

If R CMD Check shows a message like:

    Undefined global functions or variables:
      var1 var2
      


Put this:

```r 
# Declare global variables 
if(getRversion() >= "2.15.1")  utils::globalVariables(c("var1", "var2"))
```

in the same file as where you have package-level documentation.

```{r}
# usethis::use_package_doc()
```

See this [Discussion](https://github.com/STAT545-UBC/Discussion/issues/451)





